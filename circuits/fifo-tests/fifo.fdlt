(load "circuits/fifo.fdl")
(red input i)
(red output o)
(red input push)
(red input pop)
(red input reset)
(part-under-test (fifo-5
                   i
                   o
                   push
                   pop
                   reset
                   sig:signal-d
                   sig:signal-c
                   sig:signal-r))
(test-type fixed-latency 3)

(test (((i sig:signal-d)
        (push sig:signal-c)
        (pop sig:signal-c)
        (reset sig:signal-r))
       ((o sig:signal-d)))
  ((0 0 0 1) (*))
  ((0 0 0 0) (*))
  ((1 1 0 0) (1))
  ((0 0 0 0) (1))
  ((0 0 0 0) (1))
  ((0 0 0 0) (1))
  ((2 1 0 0) (1))
  ((0 0 0 0) (1))
  ((0 0 0 0) (1))
  ((0 0 0 0) (1))
  ((0 0 0 0) (1))
  ((0 0 0 0) (1))
  ((0 0 1 0) (2))
  ((0 0 0 0) (2))
  ((3 1 1 0) (3))
  ((4 1 1 0) (4))
  ((5 1 1 0) (5))
  ((6 1 1 0) (6))
  ((7 1 1 0) (7))
  ((8 1 1 0) (8))
  ((9 1 1 0) (9))
  ((10 1 1 0) (10))
  ((11 1 1 0) (11))
  ((12 1 1 0) (12))
  ((13 1 1 0) (13))
  ((14 1 0 0) (13))
  ((15 1 0 0) (13))
  ((16 1 0 0) (13))
  ((0 0 0 0) (13))
  ((0 0 0 0) (13))
  ((0 0 0 0) (13))
  ((0 0 0 0) (13))
  ((0 0 0 0) (13))
  ((0 0 0 0) (13))
  ((0 0 1 0) (14))
  ((0 0 1 0) (15))
  ((0 0 1 0) (16))
  ((17 1 1 0) (17)))
